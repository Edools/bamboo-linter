{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('fs'), require('ramda'), require('rx'), require('bluebird'), require('chalk'), require('node-fetch'), require('cheerio')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'fs', 'ramda', 'rx', 'bluebird', 'chalk', 'node-fetch', 'cheerio'], factory) :\n  factory((global.ThemeQA = {}), global.fs, global.R, global.rx, global.bluebird, global.chalk, global.fetch, global.cheerio)\n}(this, function (exports, fs, R, rx, bluebird, chalk, fetch, cheerio) { 'use strict';\n\n  fs = ('default' in fs ? fs['default'] : fs);\n  var R__default = ('default' in R ? R['default'] : R);\n  chalk = ('default' in chalk ? chalk['default'] : chalk);\n  fetch = ('default' in fetch ? fetch['default'] : fetch);\n\n  let utils__error = R.compose(console.log, chalk.bold.red);\n  let utils__success = R.compose(console.log, chalk.bold.green);\n  let utils__info = R.compose(console.log, chalk.underline);\n  let utils__highlight = R.compose(console.log, chalk.bold.yellow);\n\n  const providers_config__readFile = bluebird.promisify(fs.readFile);\n\n  function getApps (path) {\n    return providers_config__readFile(path, {encoding: 'utf8'})\n      .then(json => JSON.parse(json))\n      .then(apps => toArray(apps))\n      .catch(() => utils__error('Your Appfile doesn\\'t exist'));\n  }\n\n  function getAppRelease ({name, version}) {\n    return getThemeConfig()\n      .then(config => {\n        return fetch(`https://api.myedools.com/apps/${name}/releases/${version}`, getRequestHeaders(config));\n      })\n      .then(res => res.json());\n  }\n\n  function getThemeConfig () {\n    return providers_config__readFile('theme-config.json', {encoding: 'utf8'})\n      .then(res => JSON.parse(res))\n      .catch(err => utils__error('There is something wrong with your theme config file!', err));\n  }\n\n  function getRequestHeaders (config) {\n    return {\n      headers: {\n        Authorization: `Token token=${config.token}`\n    }\n    };\n  }\n\n  function toArray (apps) {\n    return R.map(app => ({\n      name: app,\n      version: apps[app]\n    }), R.keys(apps));\n  }\n\n  const onlyMessages = R__default.filter(R__default.compose(R__default.not, R__default.is(Boolean)));\n\n  function lint (html, expectations) {\n    let $ = cheerio.load(html);\n    return onlyMessages(R__default.map(exp => isValid($, exp), expectations));\n  }\n\n  function hasAttribute ($, {name, value}) {\n    let elems = $(`[${name}]`);\n    let regexp = new RegExp(escapeRegex(value));\n    let matchesAttr = elem => regexp.test(elem.attribs[name]);\n\n    return R__default.any(matchesAttr, elems);\n  }\n\n  function hasElement ($, {name, attributes}) {\n    let elems = $(`${name}`);\n    let matchesAllAttrs = elem => {\n      let attrs = R__default.keys(elem.attribs);\n      let matchesOrNoExpect = attr => {\n        let regexp = new RegExp(escapeRegex(attributes[attr]));\n        return !attributes[attr] || regexp.test(elem.attribs[attr]);\n      };\n      return R__default.all(matchesOrNoExpect, attrs);\n    };\n\n    return R__default.any(matchesAllAttrs, elems);\n  }\n\n  function escapeRegex (value = '') {\n    return value\n      .replace(/\\(/g, '\\\\(')\n      .replace(/\\)/g, '\\\\)');\n  }\n\n  function isValid ($, expectation) {\n    let fn = expectation.type === 'A' ? hasAttribute : hasElement;\n    return fn($, expectation) ? true : renderMessage(expectation);\n  }\n\n  function renderMessage (expectation) {\n    let rendered = expectation.type === 'A'\n      ? renderAttribute(expectation.name, expectation.value)\n      : renderElement(expectation);\n    let [prefix, suffix] = expectation.message.split('{{ value }}');\n\n    return [prefix, rendered, suffix];\n  }\n\n  function renderAttribute (name, value) {\n    return `${name}=\"${value}\"`;\n  }\n\n  function renderElement ({name, attributes}) {\n    let spacer = R__default.join(' ');\n    let renderedAttrs = R__default.map(attr => {\n      return renderAttribute(attr, attributes[attr]);\n    }, R__default.keys(attributes));\n\n    return `<${name} ${spacer(renderedAttrs)}></${name}>`;\n  }\n\n  function consoleReporter (filename, messages) {\n    if (messages && messages.length > 0) {\n      utils__info(`${filename} :`);\n      R.forEach(message => {\n        let [prefix, target, suffix] = message;\n        utils__error(prefix);\n        utils__highlight(`     ${target}`);\n        utils__error(suffix, '\\n');\n      }, messages);\n    }\n  }\n\n  var console__default = consoleReporter;\n\n  const index__readFile = bluebird.promisify(fs.readFile);\n\n  function hasTemplates(path) {\n    try {\n      return fs.lstatSync(path);\n    } catch (e) {\n      utils__error('Your template folder doesn\\'t exist');\n    }\n  }\n\n  function readHTML (path) {\n    return index__readFile(path, {encoding: 'utf8'});\n  }\n\n  function getTemplates ({expectations}, templatesDir) {\n    let templateNames = Object.keys(expectations);\n\n    return rx.Observable.from(templateNames)\n      .flatMap(name => {\n        let parsedName = `${name}.html`;\n        return rx.Observable.fromPromise(readHTML(`${templatesDir}/${parsedName}`))\n          .map(html => ({\n            name: parsedName,\n            html: html,\n            expectations: expectations[name]\n          }));\n      });\n  }\n\n  function lintTemplate (template) {\n    template.messages = lint(template.html, template.expectations);\n    return template;\n  }\n\n  function validateTheme (config) {\n    console.log('Linting your Edools theme...');\n    if (!hasTemplates(config.templatesDir)) {\n      return;\n    }\n\n    rx.Observable.fromPromise(getApps(config.appfileDir))\n      .flatMap(apps => rx.Observable.from(apps))\n      .filter(({name}) => name !== 'bamboo')\n      .flatMap(app => rx.Observable.fromPromise(getAppRelease(app)))\n      .flatMap(release => getTemplates(release, config.templatesDir))\n      .map(template => lintTemplate(template))\n      .reduce((templates, template) => {\n        templates = templates.concat(template);\n        return templates;\n      }, [])\n      .subscribe(templates => {\n        let hasAnyMessage = R.any(({messages}) => messages.length > 0, templates);\n        if (hasAnyMessage) {\n          R.forEach(({name, messages}) => console__default(name, messages), templates);\n          utils__error('Your theme isn\\'t valid');\n          process.exit(1);\n        } else {\n          utils__success('Your theme is valid!');\n        }\n      });\n  }\n\n  exports.validateTheme = validateTheme;\n\n}));\n"],"sourceRoot":"/source/"}